package org.sunrise.dangdang.service.impl;import org.springframework.stereotype.Service;import org.sunrise.dangdang.bean.User;import org.sunrise.dangdang.dao.UserMapper;import org.sunrise.dangdang.email.Email;import org.sunrise.dangdang.service.UserService;import org.sunrise.dangdang.util.Encryption;import org.sunrise.dangdang.util.RandomCode;import javax.annotation.Resource;import java.io.IOException;@Service("userService")public class UserServiceImpl implements UserService {    @Resource    public UserMapper userMapper;    @Override    public User getUser(String name) {        return null;    }    @Override    public void addUser(User user) { }    @Override    public User getByIdUser(String id) {        return userMapper.selectByPrimaryKey(id);    }    @Override    public User selectByPrimaryName(String name) {        return userMapper.selectByPrimaryName(name);    }    @Override    public User selectByPrimaryEmail(String email) {        return userMapper.selectByPrimaryEmail(email);    }    @Override    public int insertUser(User user) { return userMapper.insert(user); }    @Override    public String randomCode() { return RandomCode.getRandomCodeFour(); }    @Override    public boolean emailCode(String eamil, String content) {        try {             Email mail = Email.defaultEmail(eamil,content);             mail.sendEmail();             return true;        } catch (Exception e) {            e.printStackTrace();            return false;        }    }    @Override    public User selectByPrimaryNameOrEamilAndPwd(String name, String pwd) {        if (name.indexOf("@") != -1){            return userMapper.selectByPrimaryEmailAndPwd(                    Encryption.byteBase64String(name),                    Encryption.byteBase64String(pwd));        }        return userMapper.selectByPrimaryNameAndPwd(name,Encryption.byteBase64String(pwd));    }}